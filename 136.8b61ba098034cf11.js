"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[136],{67136:(y,u,n)=>{n.r(u),n.d(u,{RichlistModule:()=>V});var r=n(31236),f=n(68760),v=n(6608),h=n(77012),l=n(95372),I=n(11624),a=n(56440),c=n(34562),p=n(33892),E=n(99296),G=n(16424),T=n(66352),b=n(23320),O=n(72508),k=n(49280),$=n(51348),Y=n(25208),A=n(35207),R=n(14748),F=n(68376),H=n(80276),S=n(98860),D=n(46764),g=n(1528),t=n(54496),L=n(30260),w=n(59188),C=n(91368),M=n(38044),U=n(21924),B=n(62016);function K(s,m){if(1&s&&(t.I0R(0,"div",19),t.wR5(1,"mat-icon",20),t.I0R(2,"div",21),t.OEk(3),t.C$Y()()),2&s){const e=t.GaO();t.yG2(),t.E7m("svgIcon","heroicons_solid:badge-check"),t.yG2(2),t.cNF(null==e.setup.Chain?null:e.setup.Chain.Description)}}function P(s,m){1&s&&t.wR5(0,"app-progress")}function j(s,m){1&s&&(t.I0R(0,"blockcore-block",22),t.wR5(1,"mat-icon",23),t.I0R(2,"div",24)(3,"div",25)(4,"span"),t.OEk(5,"Addresses"),t.C$Y()()()()),2&s&&(t.yG2(),t.E7m("svgIcon","heroicons_outline:database"))}const W=s=>["../../explorer/address/",s];function z(s,m){if(1&s&&(t.I0R(0,"blockcore-block",28),t.wR5(1,"mat-icon",29),t.I0R(2,"div",30)(3,"div",31)(4,"a",32),t.OEk(5),t.C$Y()(),t.I0R(6,"div",33),t.wR5(7,"span",34),t.wVc(8,"amountHtml"),t.C$Y()(),t.I0R(9,"div",24)(10,"div",35),t.SAx(11),t.I0R(12,"div",36)(13,"div",37),t.OEk(14),t.C$Y()(),t.k70(),t.C$Y()(),t.wR5(15,"div",38),t.C$Y()),2&s){const e=m.$implicit,o=m.index;t.yG2(),t.E7m("svgIcon","heroicons_outline:database"),t.yG2(3),t.E7m("routerLink",t.S45(7,W,e.address)),t.yG2(),t.cNF(e.address),t.yG2(2),t.E7m("innerHTML",t.kDX(8,5,e.balance),t.E3n),t.yG2(7),t.cNF(o+1)}}function N(s,m){1&s&&t.wR5(0,"app-progress")}function J(s,m){if(1&s){const e=t.KQA();t.I0R(0,"div")(1,"div",26),t.qCj("onScroll",function(i){t.usT(e);const d=t.GaO();return t.CGJ(d.onScroll(i))}),t.yuY(2,z,16,9,"blockcore-block",27)(3,N,1,0,"app-progress",17),t.C$Y()()}if(2&s){const e=t.GaO();t.yG2(),t.E7m("bottomOffset",400)("topOffset",400),t.yG2(),t.E7m("ngForOf",e.addresses),t.yG2(),t.E7m("ngIf",e.loading)}}const Q=[{path:"",component:(()=>{class s{api;setup;hostClass=!0;info;node;blockchain;network;configuration;consensus;peers;addresses=null;timerInfo;timerBlocks;count=0;maxCount=2;link;limit=20;loading=!1;subscription;total;scrollHandler(e){console.log("Scroll Event")}constructor(e,o){this.api=e,this.setup=o}ngOnInit(){var e=this;this.subscription=this.setup.currentChain$.subscribe(function(){var o=(0,g.c)(function*(i){yield e.updateRichlist("/api/insight/richlist?limit="+e.limit)});return function(i){return o.apply(this,arguments)}}())}updateRichlist(e){var o=this;return(0,g.c)(function*(){if(console.log("url: ",e),!e)return;const i=o.api.baseUrl.replace("/api",""),d=yield o.api.request(i+e);o.total=d.headers.get("Pagination-Total");const x=d.headers.get("Link"),X=o.api.parseLinkHeader(x);o.link=X.next;const Z=yield d.json();o.addresses||(o.addresses=[]),o.addresses=[...o.addresses,...Z],o.count++})()}toggleAmountRendering(){this.setup.toggleFormat()}onScroll(e){var o=this;return(0,g.c)(function*(){console.log("scroll occurred",e),e.isReachingBottom&&(console.log("the user is reaching the bottom"),o.loading=!0,setTimeout((0,g.c)(function*(){console.log("UPDATE RICH LIST",o.link),yield o.updateRichlist(o.link),o.loading=!1}))),e.isReachingTop&&console.log("the user is reaching the top"),e.isWindowEvent&&console.log("This event is fired on Window not on an element.")})()}static \u0275fac=function(o){return new(o||s)(t.GI1(L.W),t.GI1(w.g))};static \u0275cmp=t.In1({type:s,selectors:[["app-richlist"]],hostVars:2,hostBindings:function(o,i){1&o&&t.qCj("scroll",function(x){return i.scrollHandler(x)}),2&o&&t.eAK("content-centered-top",i.hostClass)},decls:23,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex-0","w-16","h-16","rounded-md","overflow-hidden"],[1,"w-full","h-full",3,"src"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3"],[1,"flex","items-center","mt-auto"],["title","Toggle Amount Format","mat-stroked-button","",1,"mt-2",3,"click"],[1,"icon-size-5","text-primary",3,"svgIcon"],[1,"flex-auto","border-t","-mt-px","pt-4","sm:pt-6"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"flex","flex-col","flex-auto","w-full"],[1,"w-full","p-6","md:p-8"],[4,"ngIf"],["class","flex items-center w-full p-6 filter-info",4,"ngIf"],[1,"flex","items-center"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-1.5","leading-6","truncate","text-secondary"],[1,"flex","items-center","w-full","p-6","filter-info"],[1,"icon-size-22","mr-6","text-blue-500",3,"svgIcon"],[1,"flex","flex-col"],[1,"text-2xl","font-semibold","leading-tight","break-all"],["appDetectScroll","",3,"bottomOffset","topOffset","onScroll"],["class","flex items-center w-full p-6 filter-info justify-between",4,"ngFor","ngForOf"],[1,"flex","items-center","w-full","p-6","filter-info","justify-between"],[1,"icon-size-12","mr-6",3,"svgIcon"],[1,"flex","flex-col","w-full"],[1,"text-1xl","font-semibold","leading-tight","text-primary","break-all"],[3,"routerLink"],[1,"text-1xl","text-secondary","mt-2"],[3,"innerHTML"],[1,"text-1xl","font-semibold","leading-tight"],[1,"font-semibold","tracking-tight","leading-7","md:leading-snug","truncate","inline-flex","mat-flat-button"],["matTooltip","Rank",1,"inline-flex","text-primary"],[1,"flex"]],template:function(o,i){1&o&&(t.I0R(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t.wR5(6,"img",5),t.C$Y(),t.I0R(7,"div",6),t.SAx(8),t.I0R(9,"div",7),t.OEk(10),t.C$Y(),t.k70(),t.yuY(11,K,4,2,"div",8),t.C$Y()(),t.I0R(12,"div",9)(13,"div",10)(14,"button",11),t.qCj("click",function(){return i.toggleAmountRendering()}),t.wR5(15,"mat-icon",12),t.C$Y()()()()()(),t.I0R(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16),t.yuY(20,P,1,0,"app-progress",17)(21,j,6,1,"blockcore-block",18)(22,J,4,4,"div",17),t.C$Y()()()()()),2&o&&(t.yG2(6),t._6D("src",null==i.setup.Chain?null:i.setup.Chain.Icon,t.K6U),t.yG2(4),t.oRS(" ",null==i.setup.Chain?null:i.setup.Chain.Symbol," "),t.yG2(),t.E7m("ngIf",null==i.setup.Chain?null:i.setup.Chain.Description),t.yG2(4),t.E7m("svgIcon","heroicons_solid:database"),t.yG2(5),t.E7m("ngIf",!i.addresses),t.yG2(),t.E7m("ngIf",i.addresses),t.yG2(),t.E7m("ngIf",i.addresses))},dependencies:[r.ER,f.Gw,l.qL,C.ay,C.u_,M.Q,R.a4,U.y,B.e],encapsulation:2})}return s})()}];let V=(()=>{class s{static \u0275fac=function(o){return new(o||s)};static \u0275mod=t.a4G({type:s});static \u0275inj=t.s3X({imports:[r.qQ.forChild(Q),f.oJ,v.ue,h.U,l.oB,I._A,a.Ko,c.KE,p.sb,E.Su,G.If,T.WG,O.G,b.kJ,k.k,$.d5,Y.cN,A.C,R.KO,F.uE,H._,S.C,D.e]})}return s})()},62016:(y,u,n)=>{n.d(u,{I:()=>v,e:()=>h});var r=n(54496),f=n(59188);let v=(()=>{class l{setup;constructor(a){this.setup=a}transform(a){return this.setup.transformFormat(a)}static \u0275fac=function(c){return new(c||l)(r.GI1(f.g,16))};static \u0275pipe=r.UTH({name:"amount",type:l,pure:!1})}return l})(),h=(()=>{class l{setup;constructor(a){this.setup=a}transform(a){const c=this.setup.transformFormat(a);if(c.indexOf(".")>-1){const p=c.split(".");return`${p[0]}.<span class="decimals">${p[1]}</span>`}return c}static \u0275fac=function(c){return new(c||l)(r.GI1(f.g,16))};static \u0275pipe=r.UTH({name:"amountHtml",type:l,pure:!1})}return l})()}}]);