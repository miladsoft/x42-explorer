"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[166],{38008:(D,v,n)=>{n.d(v,{g:()=>C});var g=n(91368),i=n(54496);let C=(()=>{class m{static \u0275fac=function(I){return new(I||m)};static \u0275mod=i.a4G({type:m});static \u0275inj=i.s3X({imports:[g.MD]})}return m})()},91166:(D,v,n)=>{n.r(v),n.d(v,{OrphansModule:()=>q});var g=n(31236),i=n(68760),C=n(6608),m=n(77012),E=n(95372),b=n(11624),I=n(56440),k=n(34562),R=n(33892),G=n(99296),T=n(16424),x=n(66352),P=n(23320),l=n(72508),r=n(49280),u=n(51348),c=n(25208),p=n(35207),M=n(14748),Y=n(68376),$=n(80276),S=n(98860),K=n(46764),y=n(1528),t=n(54496),U=n(30260),L=n(59188),O=n(91368),W=n(38044),A=n(64524),H=n(21924);function j(s,f){if(1&s&&(t.I0R(0,"div",17),t.wR5(1,"mat-icon",12),t.I0R(2,"div",18),t.OEk(3),t.C$Y()()),2&s){const e=t.GaO();t.yG2(),t.E7m("svgIcon","heroicons_solid:badge-check"),t.yG2(2),t.cNF(null==e.setup.Chain?null:e.setup.Chain.Description)}}function F(s,f){1&s&&(t.I0R(0,"app-progress",24),t.OEk(1,"Loading latest blocks..."),t.C$Y())}function N(s,f){if(1&s){const e=t.KQA();t.I0R(0,"blockcore-block",34),t.wR5(1,"mat-icon",35),t.I0R(2,"div",36)(3,"div",37)(4,"a",38),t.qCj("click",function(){const d=t.usT(e).$implicit,h=t.GaO(3);return t.CGJ(h.showBlockDetails(d.blockHash))}),t.OEk(5),t.C$Y(),t.OEk(6," | "),t.I0R(7,"a",38),t.qCj("click",function(){const d=t.usT(e).$implicit,h=t.GaO(3);return t.CGJ(h.showBlockDetails(d.blockHash))}),t.OEk(8),t.wVc(9,"slice"),t.C$Y()(),t.I0R(10,"div",39),t.OEk(11),t.wVc(12,"date"),t.C$Y()(),t.I0R(13,"div",29)(14,"div",40),t.SAx(15),t.I0R(16,"div",41)(17,"div",42),t.OEk(18,"Transaction Count:"),t.C$Y(),t.I0R(19,"div",43),t.OEk(20),t.C$Y()(),t.k70(),t.C$Y()(),t.wR5(21,"div",44),t.C$Y()}if(2&s){const e=f.$implicit;t.yG2(),t.E7m("svgIcon","heroicons_outline:cube"),t.yG2(4),t.cNF(e.blockIndex),t.yG2(3),t.cNF(t.I7O(9,6,e.blockHash,0,20)),t.yG2(3),t.cNF(t.g7$(12,10,e.created,"dd/MM/yyyy hh:mm")),t.yG2(8),t.CI5("matTooltip","Transaction Count: ",e.block.transactionCount,""),t.yG2(),t.oRS(" ",e.block.transactionCount,"")}}function J(s,f){1&s&&t.wR5(0,"app-progress")}function z(s,f){if(1&s){const e=t.KQA();t.I0R(0,"div",25)(1,"div",26)(2,"div",17)(3,"blockcore-block",27),t.wR5(4,"mat-icon",28),t.I0R(5,"div",29)(6,"div",30)(7,"span"),t.OEk(8,"Orphan blocks: "),t.C$Y(),t.I0R(9,"span",31),t.OEk(10),t.C$Y()()()()(),t.I0R(11,"div",32),t.qCj("onScroll",function(a){t.usT(e);const d=t.GaO(2);return t.CGJ(d.onScroll(a))}),t.yuY(12,N,22,13,"blockcore-block",33)(13,J,1,0,"app-progress",23),t.C$Y()()()}if(2&s){const e=t.GaO(2);t.yG2(4),t.E7m("svgIcon","heroicons_outline:cube"),t.yG2(6),t.oRS(" ",e.total,""),t.yG2(),t.E7m("bottomOffset",400)("topOffset",400),t.yG2(),t.E7m("ngForOf",e.blocks),t.yG2(),t.E7m("ngIf",e.loading)}}function Q(s,f){if(1&s&&(t.I0R(0,"div")(1,"blockcore-block",45),t.wR5(2,"mat-icon",28),t.I0R(3,"div",29)(4,"div",30)(5,"span"),t.OEk(6),t.C$Y()()()(),t.I0R(7,"div",46)(8,"pre",47),t.OEk(9),t.wVc(10,"json"),t.C$Y()()()),2&s){const e=t.GaO(2);t.yG2(2),t.E7m("svgIcon","heroicons_outline:clipboard-list"),t.yG2(4),t.oRS("Block Hash: ",e.displayBlock.blockHash," "),t.yG2(3),t.cNF(t.kDX(10,3,e.displayBlock))}}function V(s,f){if(1&s&&(t.I0R(0,"div",19)(1,"div",20),t.wR5(2,"app-search"),t.yuY(3,F,2,0,"app-progress",21)(4,z,14,6,"div",22)(5,Q,11,5,"div",23),t.C$Y()()),2&s){const e=t.GaO();t.yG2(3),t.E7m("ngIf",!e.blocks),t.yG2(),t.E7m("ngIf",e.blocks),t.yG2(),t.E7m("ngIf",e.displayBlock)}}const X=[{path:"",component:(()=>{class s{api;setup;hostClass=!0;info;node;blockchain;network;configuration;consensus;peers;blocks=null;timerInfo;timerBlocks;count=0;maxCount=2;link;limit=20;loading=!1;subscription;total;displayBlock;scrollHandler(e){}constructor(e,o){this.api=e,this.setup=o}ngOnInit(){var e=this;return(0,y.c)(function*(){e.subscription=e.setup.currentChain$.subscribe(function(){var o=(0,y.c)(function*(a){yield e.updateBlocks("/api/query/block/orphan?offset=&limit="+e.limit)});return function(a){return o.apply(this,arguments)}}())})()}ngOnDestroy(){clearTimeout(this.timerInfo),clearTimeout(this.timerBlocks),this.subscription.unsubscribe()}updateBlocks(e){var o=this;return(0,y.c)(function*(){if(!e)return;const a=o.api.baseUrl.replace("/api",""),d=yield o.api.request(a+e);o.total=d.headers.get("Pagination-Total");const h=d.headers.get("Link"),tt=o.api.parseLinkHeader(h);o.link=tt.previous;const w=yield d.json();w.sort((_,B)=>B.blockIndex===_.blockIndex?0:B.blockIndex<_.blockIndex?-1:B.blockIndex>_.blockIndex?1:void 0),o.blocks||(o.blocks=[]),o.blocks=[...o.blocks,...w],o.count++})()}showBlockDetails(e){var o=this;return(0,y.c)(function*(){const a=o.api.baseUrl.replace("/api",""),d=yield o.api.request(a+"/api/query/block/orphan/"+e);o.displayBlock=yield d.json()})()}onScroll(e){var o=this;return(0,y.c)(function*(){e.isReachingBottom&&(o.loading=!0,setTimeout((0,y.c)(function*(){yield o.updateBlocks(o.link),o.loading=!1})))})()}static \u0275fac=function(o){return new(o||s)(t.GI1(U.W),t.GI1(L.g))};static \u0275cmp=t.In1({type:s,selectors:[["app-orphans-component"]],hostVars:2,hostBindings:function(o,a){1&o&&t.qCj("scroll",function(h){return a.scrollHandler(h)}),2&o&&t.eAK("content-centered-top",a.hostClass)},decls:21,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex-0","w-16","h-16","rounded-md","overflow-hidden"],[1,"w-full","h-full",3,"src"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3","hidden","md:block"],["target","_blank",3,"href"],["mat-flat-button","",1,"blockcore-mat-button-rounded",3,"color"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"flex-auto","border-t","-mt-px","pt-4","sm:pt-6"],[1,"w-full","max-w-screen-xl","mx-auto"],["class","flex flex-col flex-auto w-full",4,"ngIf"],[1,"flex","items-center"],[1,"ml-1.5","leading-6","truncate","text-secondary"],[1,"flex","flex-col","flex-auto","w-full"],[1,"w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],["class","centered",4,"ngIf"],["class","grid grid-cols-1 xl:grid-cols-1 gap-8 w-full",4,"ngIf"],[4,"ngIf"],[1,"centered"],[1,"grid","grid-cols-1","xl:grid-cols-1","gap-8","w-full"],[1,"flex","flex-col","flex-auto"],[1,"flex","items-center","w-full","p-6","filter-info"],[1,"icon-size-16","mr-6","text-blue-500",3,"svgIcon"],[1,"flex","flex-col"],[1,"text-2xl","font-semibold","leading-tight","break-all"],[1,"text-primary"],["appDetectScroll","",1,"scrollable",3,"bottomOffset","topOffset","onScroll"],["class","flex items-center w-full p-6 filter-info justify-between",4,"ngFor","ngForOf"],[1,"flex","items-center","w-full","p-6","filter-info","justify-between"],[1,"icon-size-12","mr-6",3,"svgIcon"],[1,"flex","flex-col","w-full"],[1,"text-2xl","font-semibold","leading-tight","text-primary","break-all"],[2,"cursor","pointer",3,"click"],[1,"text-md","text-secondary"],[1,"text-1xl","font-semibold","leading-tight"],[1,"font-semibold","tracking-tight","leading-7","md:leading-snug","truncate","inline-flex","mat-flat-button"],[1,"hidden","md:block","mr-3"],[1,"inline-flex","text-primary",3,"matTooltip"],[1,"flex"],[1,"flex","items-center","w-full","p-6","filter-info","mt-8"],[1,"prose","max-w-full"],[2,"text-align","left","overflow","auto"]],template:function(o,a){1&o&&(t.I0R(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t.wR5(6,"img",5),t.C$Y(),t.I0R(7,"div",6),t.SAx(8),t.I0R(9,"div",7),t.OEk(10),t.C$Y(),t.k70(),t.yuY(11,j,4,2,"div",8),t.C$Y()(),t.I0R(12,"div",9)(13,"a",10)(14,"button",11),t.wR5(15,"mat-icon",12),t.I0R(16,"span",13),t.OEk(17,"Website"),t.C$Y()()()()()()(),t.I0R(18,"div",14)(19,"div",15),t.yuY(20,V,6,3,"div",16),t.C$Y()()()),2&o&&(t.yG2(6),t._6D("src",null==a.setup.Chain?null:a.setup.Chain.Icon,t.K6U),t.yG2(4),t.oRS(" ",null==a.setup.Chain?null:a.setup.Chain.Symbol," "),t.yG2(),t.E7m("ngIf",null==a.setup.Chain?null:a.setup.Chain.Description),t.yG2(2),t._6D("href",null==a.setup.Chain?null:a.setup.Chain.Url,t.K6U),t.yG2(),t.E7m("color","primary"),t.yG2(),t.E7m("svgIcon","heroicons_solid:chevron-double-right"),t.yG2(5),t.E7m("ngIf",a.setup.chains))},dependencies:[i.Gw,E.qL,O.ay,O.u_,W.Q,M.a4,A.c,H.y,O.ED,O.qq,O.y],encapsulation:2})}return s})()}];var Z=n(38008);let q=(()=>{class s{static \u0275fac=function(o){return new(o||s)};static \u0275mod=t.a4G({type:s});static \u0275inj=t.s3X({imports:[g.qQ.forChild(X),i.oJ,C.ue,m.U,E.oB,b._A,I.Ko,k.KE,R.sb,G.Su,T.If,x.WG,l.G,P.kJ,r.k,u.d5,c.cN,p.C,M.KO,Y.uE,$._,S.C,K.e,Z.g]})}return s})()},64524:(D,v,n)=>{n.d(v,{c:()=>T});var g=n(1528),i=n(54496),C=n(30260),m=n(59188),E=n(31236),b=n(68376),I=n(95372),k=n(6504),R=n(33040),G=n(25208);let T=(()=>{class x{api;setup;router;_snackBar;searchTerm;scheme=JSON.parse(localStorage.getItem("config")).scheme;constructor(l,r,u,c){this.api=l,this.setup=r,this.router=u,this._snackBar=c}ngOnDestroy(){}ngOnInit(){return(0,g.c)(function*(){})()}inputType(l){return l.startsWith(this.setup.Network.NetworkWitnessPrefix)?"address":l.length<20?"index":l.length>30&&l.length<54?"address":"hash"}search(){var l=this;return(0,g.c)(function*(){const r=l.searchTerm;switch(l.inputType(r)){case"index":{const c=parseInt(r,10);!isNaN(c)&&c>0?l.router.navigate([l.setup.current,"explorer","block",c]):l._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[l.scheme]});break}case"address":l.router.navigate([l.setup.current,"explorer","address",r]);break;case"hash":{let c=null;try{c=yield l.api.getBlockByHash(r)}catch{}if(c)l.router.navigate([l.setup.current,"explorer","block",c.blockHash]);else{const p=yield l.api.getTransaction(r);l.router.navigate([l.setup.current,"explorer","transaction",p.transactionId])}break}default:l._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[l.scheme]})}})()}static \u0275fac=function(r){return new(r||x)(i.GI1(C.W),i.GI1(m.g),i.GI1(E.E5),i.GI1(b.yS))};static \u0275cmp=i.In1({type:x,selectors:[["app-search"]],decls:8,vars:3,consts:[[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","gap-6","w-full","min-w-0","mb-6"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","max-w-full","sm:max-w-none"],[1,"blockcore-mat-no-subscript","w-full","sm:w-full","mt-6","sm:mt-6","mb-6","sm:mb-6","sm:ml-4",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","search","placeholder","Search for address, transaction or block.","autocomplete","off","matInput","",3,"ngModel","keyup.enter","ngModelChange"],["query",""]],template:function(r,u){1&r&&(i.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4),i.wR5(5,"mat-icon",5),i.I0R(6,"input",6,7),i.qCj("keyup.enter",function(){return u.search()}),i.iHE("ngModelChange",function(p){return i.kNx(u.searchTerm,p)||(u.searchTerm=p),p}),i.C$Y()()()()()()),2&r&&(i.yG2(4),i.E7m("floatLabel","always"),i.yG2(),i.E7m("svgIcon","heroicons_solid:search"),i.yG2(),i.OKB("ngModel",u.searchTerm))},dependencies:[I.qL,k.ot,k.ue,k._G,R.Up,R.is,G.yi],encapsulation:2})}return x})()}}]);