"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[990],{39990:(D,x,e)=>{e.r(x),e.d(x,{BlocksModule:()=>tt});var h=e(31236),a=e(68760),C=e(6608),I=e(77012),y=e(95372),b=e(11624),E=e(56440),v=e(34562),k=e(33892),T=e(99296),B=e(16424),m=e(66352),P=e(23320),s=e(72508),r=e(49280),u=e(51348),c=e(25208),d=e(35207),M=e(14748),w=e(68376),Y=e(80276),L=e(98860),K=e(46764),f=e(1528),$=e(2732),t=e(54496),A=e(30260),U=e(59188),G=e(91368),W=e(38044),H=e(64524),F=e(21924);function j(l,p){if(1&l&&(t.I0R(0,"div",19),t.wR5(1,"mat-icon",12),t.I0R(2,"div",20),t.OEk(3),t.C$Y()()),2&l){const o=t.GaO();t.yG2(),t.E7m("svgIcon","heroicons_solid:badge-check"),t.yG2(2),t.cNF(null==o.setup.Chain?null:o.setup.Chain.Description)}}function N(l,p){if(1&l){const o=t.KQA();t.I0R(0,"div",23)(1,"div",24)(2,"div",25),t.wR5(3,"mat-icon",26),t.I0R(4,"div",27)(5,"div",28)(6,"span"),t.OEk(7,"Latest blocks: "),t.C$Y(),t.I0R(8,"span",29),t.OEk(9),t.C$Y()()()(),t.I0R(10,"div",30)(11,"button",31),t.qCj("click",function(){t.usT(o);const i=t.GaO(2);return t.CGJ(i.exportCSV())}),t.wR5(12,"mat-icon",12),t.I0R(13,"span",13),t.OEk(14,"Export CSV"),t.C$Y()()()()()}if(2&l){const o=t.GaO(2);t.yG2(3),t.E7m("svgIcon","heroicons_outline:cube"),t.yG2(6),t.cNF(o.total),t.yG2(2),t.E7m("color","primary"),t.yG2(),t.E7m("svgIcon","heroicons_solid:document-download")}}function z(l,p){1&l&&t.wR5(0,"app-progress")}const J=l=>["../block",l];function V(l,p){if(1&l&&(t.I0R(0,"blockcore-block",34),t.wR5(1,"mat-icon",35),t.I0R(2,"div",36)(3,"div",37)(4,"a",38),t.OEk(5),t.C$Y()(),t.I0R(6,"div",39),t.OEk(7),t.wVc(8,"date"),t.C$Y()(),t.I0R(9,"div",40)(10,"div",41),t.SAx(11),t.I0R(12,"div",42)(13,"div",43),t.OEk(14,"Transaction Count:"),t.C$Y(),t.I0R(15,"div",44),t.OEk(16),t.C$Y()(),t.k70(),t.C$Y()(),t.wR5(17,"div",45),t.C$Y()),2&l){const o=p.$implicit;t.yG2(),t.CI5("matTooltip","size: ",(o.blockSize/1024).toFixed(2),""),t.E7m("svgIcon","heroicons_outline:cube"),t.yG2(3),t.E7m("routerLink",t.S45(10,J,o.blockIndex)),t.yG2(),t.cNF(o.blockIndex),t.yG2(2),t.cNF(t.g7$(8,7,1e3*o.blockTime,"dd/MM/yyyy hh:mm")),t.yG2(8),t.CI5("matTooltip","Transaction Count: ",o.transactionCount,""),t.yG2(),t.oRS(" ",o.transactionCount,"")}}function Q(l,p){1&l&&t.wR5(0,"app-progress")}function X(l,p){if(1&l){const o=t.KQA();t.I0R(0,"div")(1,"div",32),t.qCj("onScroll",function(i){t.usT(o);const g=t.GaO(2);return t.CGJ(g.onScroll(i))}),t.yuY(2,V,18,12,"blockcore-block",33)(3,Q,1,0,"app-progress",22),t.C$Y()()}if(2&l){const o=t.GaO(2);t.yG2(),t.E7m("bottomOffset",400)("topOffset",400),t.yG2(),t.E7m("ngForOf",o.blocks),t.yG2(),t.E7m("ngIf",o.loading)}}function Z(l,p){if(1&l&&(t.wR5(0,"app-search"),t.yuY(1,N,15,4,"div",21)(2,z,1,0,"app-progress",22)(3,X,4,4,"div",22)),2&l){const o=t.GaO();t.yG2(),t.E7m("ngIf",o.total),t.yG2(),t.E7m("ngIf",!o.blocks),t.yG2(),t.E7m("ngIf",o.blocks)}}const q=[{path:"",component:(()=>{class l{api;setup;hostClass=!0;info;node;blockchain;network;configuration;consensus;peers;blocks=null;timerInfo;timerBlocks;count=0;maxCount=2;link;limit=20;loading=!1;subscription;total;scrollHandler(o){}constructor(o,n){this.api=o,this.setup=n}ngOnInit(){var o=this;return(0,f.c)(function*(){o.subscription=o.setup.currentChain$.subscribe(function(){var n=(0,f.c)(function*(i){yield o.updateBlocks("/api/query/block?offset=&limit="+o.limit)});return function(i){return n.apply(this,arguments)}}())})()}ngOnDestroy(){clearTimeout(this.timerInfo),clearTimeout(this.timerBlocks),this.subscription.unsubscribe()}updateBlocks(o){var n=this;return(0,f.c)(function*(){if(!o)return;const i=n.api.baseUrl.replace("/api",""),g=yield n.api.request(i+o);n.total=g.headers.get("Pagination-Total");const O=g.headers.get("Link"),et=n.api.parseLinkHeader(O);n.link=et.previous;const _=yield g.json();_.sort((R,S)=>S.blockIndex===R.blockIndex?0:S.blockIndex<R.blockIndex?-1:S.blockIndex>R.blockIndex?1:void 0),n.blocks||(n.blocks=[]),n.blocks=[...n.blocks,..._],n.count++})()}exportCSV(){var o=this;return(0,f.c)(function*(){new $.Sk(o.blocks,"blocks",{fieldSeparator:",",quoteStrings:'"',decimalseparator:".",showLabels:!0,showTitle:!0,title:"Blocks",useBom:!0,headers:["blockHash","blockIndex","blockSize","blockTime","nextBlockHash","previousBlockHash","syncComplete","transactionCount","confirmations","bits","difficulty","chainWork","merkleroot","nonce","version","posBlockSignature","posModifierv2","posFlags","posHashProof","posBlockTrust","posChainTrust"],useHeader:!1,nullToEmptyString:!0})})()}onScroll(o){var n=this;return(0,f.c)(function*(){o.isReachingBottom&&(n.loading=!0,setTimeout((0,f.c)(function*(){yield n.updateBlocks(n.link),n.loading=!1})))})()}static \u0275fac=function(n){return new(n||l)(t.GI1(A.W),t.GI1(U.g))};static \u0275cmp=t.In1({type:l,selectors:[["app-blocks-component"]],hostVars:2,hostBindings:function(n,i){1&n&&t.qCj("scroll",function(O){return i.scrollHandler(O)}),2&n&&t.eAK("content-centered-top",i.hostClass)},decls:23,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex-0","w-16","h-16","rounded-md","overflow-hidden"],[1,"w-full","h-full",3,"src"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3","hidden","md:block"],["target","_blank",3,"href"],["mat-flat-button","",1,"blockcore-mat-button-rounded",3,"color"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"flex-auto","border-t","-mt-px","pt-4","sm:pt-6"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"sm:px-2",3,"animationDuration"],["label","Blocks"],["matTabContent",""],[1,"flex","items-center"],[1,"ml-1.5","leading-6","truncate","text-secondary"],["class","sm:col-span-2 md:col-span-4 lg:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden mb-8",4,"ngIf"],[4,"ngIf"],[1,"sm:col-span-2","md:col-span-4","lg:col-span-2","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden","mb-8"],[1,"flex","flex-col","sm:flex-row","items-start","justify-between"],[1,"flex","text-lg","font-medium","tracking-tight","leading-6","truncate","align-middle"],[1,"icon-size-22","mr-6","text-blue-500",3,"svgIcon"],[1,"flex","flex-col","mt-8"],[1,"text-2xl","font-semibold","leading-tight","break-all"],[1,"text-primary"],[1,"mt-3","sm:mt-0","sm:ml-2"],["mat-flat-button","",1,"blockcore-mat-button-rounded",3,"color","click"],["appDetectScroll","",3,"bottomOffset","topOffset","onScroll"],["class","flex items-center w-full p-6 filter-info justify-between",4,"ngFor","ngForOf"],[1,"flex","items-center","w-full","p-6","filter-info","justify-between"],[1,"icon-size-12","mr-6",3,"svgIcon","matTooltip"],[1,"flex","flex-col","w-full"],[1,"text-2xl","font-semibold","leading-tight","text-primary"],[3,"routerLink"],[1,"text-md","text-secondary"],[1,"flex","flex-col"],[1,"text-1xl","font-semibold","leading-tight"],[1,"font-semibold","tracking-tight","leading-7","md:leading-snug","truncate","inline-flex","mat-flat-button"],[1,"hidden","md:block","mr-3"],[1,"inline-flex","text-primary",3,"matTooltip"],[1,"flex"]],template:function(n,i){1&n&&(t.I0R(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t.wR5(6,"img",5),t.C$Y(),t.I0R(7,"div",6),t.SAx(8),t.I0R(9,"div",7),t.OEk(10),t.C$Y(),t.k70(),t.yuY(11,j,4,2,"div",8),t.C$Y()(),t.I0R(12,"div",9)(13,"a",10)(14,"button",11),t.wR5(15,"mat-icon",12),t.I0R(16,"span",13),t.OEk(17,"Website"),t.C$Y()()()()()()(),t.I0R(18,"div",14)(19,"div",15)(20,"mat-tab-group",16)(21,"mat-tab",17),t.yuY(22,Z,4,3,"ng-template",18),t.C$Y()()()()()),2&n&&(t.yG2(6),t._6D("src",null==i.setup.Chain?null:i.setup.Chain.Icon,t.K6U),t.yG2(4),t.oRS(" ",null==i.setup.Chain?null:i.setup.Chain.Symbol," "),t.yG2(),t.E7m("ngIf",null==i.setup.Chain?null:i.setup.Chain.Description),t.yG2(2),t._6D("href",null==i.setup.Chain?null:i.setup.Chain.Url,t.K6U),t.yG2(),t.E7m("color","primary"),t.yG2(),t.E7m("svgIcon","heroicons_solid:chevron-double-right"),t.yG2(5),t.E7m("animationDuration","0"))},dependencies:[h.ER,a.Gw,y.qL,m._q,m.aJ,m.ey,G.ay,G.u_,W.Q,M.a4,H.c,F.y,G.y],encapsulation:2})}return l})()}];let tt=(()=>{class l{static \u0275fac=function(n){return new(n||l)};static \u0275mod=t.a4G({type:l});static \u0275inj=t.s3X({imports:[h.qQ.forChild(q),a.oJ,C.ue,I.U,y.oB,b._A,E.Ko,v.KE,k.sb,T.Su,B.If,m.WG,s.G,P.kJ,r.k,u.d5,c.cN,d.C,M.KO,w.uE,Y._,L.C,K.e]})}return l})()},64524:(D,x,e)=>{e.d(x,{c:()=>B});var h=e(1528),a=e(54496),C=e(30260),I=e(59188),y=e(31236),b=e(68376),E=e(95372),v=e(6504),k=e(33040),T=e(25208);let B=(()=>{class m{api;setup;router;_snackBar;searchTerm;scheme=JSON.parse(localStorage.getItem("config")).scheme;constructor(s,r,u,c){this.api=s,this.setup=r,this.router=u,this._snackBar=c}ngOnDestroy(){}ngOnInit(){return(0,h.c)(function*(){})()}inputType(s){return s.startsWith(this.setup.Network.NetworkWitnessPrefix)?"address":s.length<20?"index":s.length>30&&s.length<54?"address":"hash"}search(){var s=this;return(0,h.c)(function*(){const r=s.searchTerm;switch(s.inputType(r)){case"index":{const c=parseInt(r,10);!isNaN(c)&&c>0?s.router.navigate([s.setup.current,"explorer","block",c]):s._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[s.scheme]});break}case"address":s.router.navigate([s.setup.current,"explorer","address",r]);break;case"hash":{let c=null;try{c=yield s.api.getBlockByHash(r)}catch{}if(c)s.router.navigate([s.setup.current,"explorer","block",c.blockHash]);else{const d=yield s.api.getTransaction(r);s.router.navigate([s.setup.current,"explorer","transaction",d.transactionId])}break}default:s._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[s.scheme]})}})()}static \u0275fac=function(r){return new(r||m)(a.GI1(C.W),a.GI1(I.g),a.GI1(y.E5),a.GI1(b.yS))};static \u0275cmp=a.In1({type:m,selectors:[["app-search"]],decls:8,vars:3,consts:[[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","gap-6","w-full","min-w-0","mb-6"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","max-w-full","sm:max-w-none"],[1,"blockcore-mat-no-subscript","w-full","sm:w-full","mt-6","sm:mt-6","mb-6","sm:mb-6","sm:ml-4",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","search","placeholder","Search for address, transaction or block.","autocomplete","off","matInput","",3,"ngModel","keyup.enter","ngModelChange"],["query",""]],template:function(r,u){1&r&&(a.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4),a.wR5(5,"mat-icon",5),a.I0R(6,"input",6,7),a.qCj("keyup.enter",function(){return u.search()}),a.iHE("ngModelChange",function(d){return a.kNx(u.searchTerm,d)||(u.searchTerm=d),d}),a.C$Y()()()()()()),2&r&&(a.yG2(4),a.E7m("floatLabel","always"),a.yG2(),a.E7m("svgIcon","heroicons_solid:search"),a.yG2(),a.OKB("ngModel",u.searchTerm))},dependencies:[E.qL,v.ot,v.ue,v._G,k.Up,k.is,T.yi],encapsulation:2})}return m})()}}]);