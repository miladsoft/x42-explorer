"use strict";(self.webpackChunkblockcore=self.webpackChunkblockcore||[]).push([[246],{8336:(P,E,o)=>{o.d(E,{W:()=>k});var p=o(30260),e=o(54496),_=o(95372),O=o(91368);function I(a,u){if(1&a&&(e.I0R(0,"div"),e.OEk(1),e.C$Y()),2&a){const l=e.GaO(2);e.yG2(),e.cNF(l.details)}}function R(a,u){if(1&a&&(e.I0R(0,"div"),e.OEk(1),e.C$Y()),2&a){const l=e.GaO(3);e.yG2(),e.cNF(l.details)}}function G(a,u){if(1&a&&(e.I0R(0,"div",16),e.OEk(1),e.C$Y()),2&a){const l=e.GaO(3);e.yG2(),e.cNF(l.stack)}}function h(a,u){if(1&a&&(e.I0R(0,"div",13),e.yuY(1,R,2,1,"div",9)(2,G,2,1,"div",14),e.wR5(3,"br"),e.I0R(4,"span",15),e.OEk(5," Message: "),e.C$Y(),e.I0R(6,"div"),e.OEk(7),e.C$Y()()),2&a){const l=e.GaO(2);e.yG2(),e.E7m("ngIf",l.details),e.yG2(),e.E7m("ngIf",l.stack),e.yG2(5),e.cNF(l.message)}}function C(a,u){if(1&a){const l=e.KQA();e.I0R(0,"div",1)(1,"div",2),e.wR5(2,"mat-icon",3),e.C$Y(),e.I0R(3,"div",4)(4,"div",5)(5,"div",6),e.OEk(6," Something went wrong! "),e.C$Y()()(),e.I0R(7,"div",7)(8,"div",5)(9,"div",8),e.yuY(10,I,2,1,"div",9),e.wR5(11,"br")(12,"br"),e.I0R(13,"span",10),e.qCj("click",function(){e.usT(l);const c=e.GaO();return e.CGJ(c.detailsVisible=!c.detailsVisible)}),e.wR5(14,"mat-icon",11),e.C$Y()(),e.yuY(15,h,8,3,"div",12),e.C$Y()()()}if(2&a){const l=e.GaO();e.yG2(2),e.E7m("svgIcon","heroicons_outline:exclamation-circle"),e.yG2(8),e.E7m("ngIf",l.details),e.yG2(4),e.E7m("svgIcon","heroicons_solid:information-circle"),e.yG2(),e.E7m("ngIf",l.detailsVisible)}}let k=(()=>{class a{error;message;details;stack;detailsVisible=!1;ngOnChanges(l){this.error&&(this.error instanceof p.m?404===this.error.code?(this.message="Not found (404)",this.details=this.error.url,this.stack=this.error.stack.toString()):(this.message=this.error.message+" ("+this.error.code+")",this.details=this.error.url,this.stack=this.error.stack.toString()):this.error instanceof Error?(this.message="Error occured: "+this.error.message,this.stack=this.error.stack.toString()):this.message=this.error)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=e.In1({type:a,selectors:[["app-error"]],inputs:{error:"error"},features:[e.SYr],decls:1,vars:1,consts:[["class","relative flex flex-col flex-auto p-6 pr-3 pb-3 bg-card rounded-2xl shadow overflow-hidden",4,"ngIf"],[1,"relative","flex","flex-col","flex-auto","p-6","pr-3","pb-3","bg-card","rounded-2xl","shadow","overflow-hidden"],[1,"absolute","bottom-0","right-0","w-24","h-24","-m-6"],[1,"icon-size-24","opacity-25","text-red-500","dark:text-red-400",3,"svgIcon"],[1,"flex","items-center"],[1,"flex","flex-col"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate","break-all","negative"],[1,"flex","items-center","mt-8"],[1,"font-medium","break-all"],[4,"ngIf"],["title","Show error details",1,"clickable",3,"click"],["matPrefix","",1,"icon-size-10","text-red-500",3,"svgIcon"],["class","error-details mt-8",4,"ngIf"],[1,"error-details","mt-8"],["class","error-details-stack",4,"ngIf"],[1,"text-red-500"],[1,"error-details-stack"]],template:function(n,c){1&n&&e.yuY(0,C,16,4,"div",0),2&n&&e.E7m("ngIf",c.error)},dependencies:[_.qL,O.u_],encapsulation:2})}return a})()},89246:(P,E,o)=>{o.r(E),o.d(E,{MempoolModule:()=>tt});var p=o(31236),e=o(68760),_=o(6608),O=o(77012),I=o(95372),R=o(11624),G=o(56440),h=o(34562),C=o(33892),k=o(99296),a=o(16424),u=o(66352),l=o(23320),n=o(72508),c=o(49280),g=o(51348),d=o(25208),v=o(35207),Y=o(14748),S=o(68376),w=o(80276),L=o(98860),W=o(46764),T=o(1528),t=o(54496),K=o(30260),U=o(59188),B=o(91368),$=o(38044),A=o(64524),N=o(21924),F=o(8336);function j(r,x){if(1&r&&(t.I0R(0,"div",17),t.wR5(1,"mat-icon",12),t.I0R(2,"div",18),t.OEk(3),t.C$Y()()),2&r){const s=t.GaO();t.yG2(),t.E7m("svgIcon","heroicons_solid:badge-check"),t.yG2(2),t.cNF(null==s.setup.Chain?null:s.setup.Chain.Description)}}function V(r,x){if(1&r&&(t.I0R(0,"blockcore-block",25),t.wR5(1,"mat-icon",26),t.I0R(2,"div",27)(3,"div",28)(4,"span"),t.OEk(5,"Transactions Count: "),t.C$Y(),t.I0R(6,"span",29),t.OEk(7),t.C$Y()()()()),2&r){const s=t.GaO(2);t.yG2(),t.E7m("svgIcon","heroicons_outline:document-text"),t.yG2(6),t.cNF(s.total)}}function H(r,x){1&r&&t.wR5(0,"app-progress")}const z=r=>["../../explorer/transaction",r];function J(r,x){if(1&r&&(t.I0R(0,"blockcore-block",32),t.wR5(1,"mat-icon",33),t.I0R(2,"div",34)(3,"div",35)(4,"a",36),t.OEk(5),t.C$Y()()()()),2&r){const s=x.$implicit;t.yG2(),t.E7m("svgIcon","heroicons_outline:document-text"),t.yG2(3),t.E7m("routerLink",t.S45(3,z,s.transactionId)),t.yG2(),t.cNF(s.transactionId)}}function Q(r,x){1&r&&t.wR5(0,"app-progress")}function X(r,x){if(1&r){const s=t.KQA();t.I0R(0,"div",30),t.qCj("onScroll",function(m){t.usT(s);const y=t.GaO(2);return t.CGJ(y.onScroll(m))}),t.yuY(1,J,6,5,"blockcore-block",31)(2,Q,1,0,"app-progress",23),t.C$Y()}if(2&r){const s=t.GaO(2);t.E7m("bottomOffset",400)("topOffset",400),t.yG2(),t.E7m("ngForOf",s.transactions),t.yG2(),t.E7m("ngIf",s.loading)}}function Z(r,x){if(1&r&&(t.I0R(0,"div",19)(1,"div",20),t.wR5(2,"app-search")(3,"app-error",21),t.yuY(4,V,8,2,"blockcore-block",22)(5,H,1,0,"app-progress",23)(6,X,3,4,"div",24),t.C$Y()()),2&r){const s=t.GaO();t.yG2(3),t.E7m("error",s.error),t.yG2(),t.E7m("ngIf",s.total),t.yG2(),t.E7m("ngIf",!s.transactions),t.yG2(),t.E7m("ngIf",s.transactions)}}const q=[{path:"",component:(()=>{class r{api;router;setup;activatedRoute;hostClass=!0;info;node;blockchain;network;configuration;consensus;peers;transactions;timerInfo;timerBlocks;timerTransactions;block;detailsVisible=!1;lastBlockHeight;subscription;error;loading=!1;link;count=0;limit=20;total;constructor(s,i,m,y){var f=this;this.api=s,this.router=i,this.setup=m,this.activatedRoute=y,this.activatedRoute.paramMap.subscribe(function(){var b=(0,T.c)(function*(D){f.transactions=null;try{f.error=null}catch(M){f.error=M}console.log(f.block);const et=yield f.api.getLastBlock(!1);f.lastBlockHeight=et.blockIndex;try{yield f.updateTransactions("/api/query/mempool/transactions?limit="+f.limit)}catch(M){f.error="{"===M.message[0]?JSON.parse(M.message):M}});return function(D){return b.apply(this,arguments)}}())}ngOnInit(){return(0,T.c)(function*(){})()}navigateToBlock(s){this.router.navigate([this.setup.current,"explorer","block",s])}toggleDetails(){this.detailsVisible=!this.detailsVisible}ngOnDestroy(){}updateTransactions(s){var i=this;return(0,T.c)(function*(){if(!s)return;const m=i.api.baseUrl.replace("/api",""),y=yield i.api.request(m+s);i.total=y.headers.get("Pagination-Total");const f=y.headers.get("Link"),b=i.api.parseLinkHeader(f);i.link=b.next;const D=yield y.json();i.transactions||(i.transactions=[]),i.transactions=[...i.transactions,...D],i.count++})()}onScroll(s){var i=this;return(0,T.c)(function*(){console.log("scroll occurred",s),s.isReachingBottom&&(console.log("the user is reaching the bottom"),i.loading=!0,setTimeout((0,T.c)(function*(){yield i.updateTransactions(i.link),i.loading=!1}))),s.isReachingTop&&console.log("the user is reaching the top"),s.isWindowEvent&&console.log("This event is fired on Window not on an element.")})()}static \u0275fac=function(i){return new(i||r)(t.GI1(K.W),t.GI1(p.E5),t.GI1(U.g),t.GI1(p.gV))};static \u0275cmp=t.In1({type:r,selectors:[["app-mempool-component"]],hostVars:2,hostBindings:function(i,m){2&i&&t.eAK("content-centered-top",m.hostClass)},decls:21,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex-0","w-16","h-16","rounded-md","overflow-hidden"],[1,"w-full","h-full",3,"src"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3","hidden","md:block"],["target","_blank",3,"href"],["mat-flat-button","",1,"blockcore-mat-button-rounded",3,"color"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"flex-auto","border-t","-mt-px","pt-4","sm:pt-6"],[1,"w-full","max-w-screen-xl","mx-auto"],["class","flex flex-col flex-auto w-full",4,"ngIf"],[1,"flex","items-center"],[1,"ml-1.5","leading-6","truncate","text-secondary"],[1,"flex","flex-col","flex-auto","w-full"],[1,"w-full","max-w-screen-xl","mx-auto","p-6","md:p-8"],[1,"centered",3,"error"],["class","flex items-center w-full p-6 filter-info ",4,"ngIf"],[4,"ngIf"],["appDetectScroll","",3,"bottomOffset","topOffset","onScroll",4,"ngIf"],[1,"flex","items-center","w-full","p-6","filter-info"],[1,"icon-size-14","mr-6","text-blue-500",3,"svgIcon"],[1,"flex","flex-col"],[1,"text-2xl","font-semibold","leading-tight","break-all"],[1,"text-primary"],["appDetectScroll","",3,"bottomOffset","topOffset","onScroll"],["class","flex items-center w-full p-6 filter-info justify-between",4,"ngFor","ngForOf"],[1,"flex","items-center","w-full","p-6","filter-info","justify-between"],[1,"icon-size-12","mr-6",3,"svgIcon"],[1,"flex","flex-col","w-full"],[1,"text-2xl","font-semibold","leading-tight","text-primary","break-all"],[3,"routerLink"]],template:function(i,m){1&i&&(t.I0R(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t.wR5(6,"img",5),t.C$Y(),t.I0R(7,"div",6),t.SAx(8),t.I0R(9,"div",7),t.OEk(10),t.C$Y(),t.k70(),t.yuY(11,j,4,2,"div",8),t.C$Y()(),t.I0R(12,"div",9)(13,"a",10)(14,"button",11),t.wR5(15,"mat-icon",12),t.I0R(16,"span",13),t.OEk(17,"Website"),t.C$Y()()()()()()(),t.I0R(18,"div",14)(19,"div",15),t.yuY(20,Z,7,4,"div",16),t.C$Y()()()),2&i&&(t.yG2(6),t._6D("src",null==m.setup.Chain?null:m.setup.Chain.Icon,t.K6U),t.yG2(4),t.oRS(" ",null==m.setup.Chain?null:m.setup.Chain.Symbol," "),t.yG2(),t.E7m("ngIf",null==m.setup.Chain?null:m.setup.Chain.Description),t.yG2(2),t._6D("href",null==m.setup.Chain?null:m.setup.Chain.Url,t.K6U),t.yG2(),t.E7m("color","primary"),t.yG2(),t.E7m("svgIcon","heroicons_solid:chevron-double-right"),t.yG2(5),t.E7m("ngIf",m.setup.chains))},dependencies:[p.ER,e.Gw,I.qL,B.ay,B.u_,$.Q,A.c,N.y,F.W],encapsulation:2})}return r})()}];let tt=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=t.a4G({type:r});static \u0275inj=t.s3X({imports:[p.qQ.forChild(q),e.oJ,_.ue,O.U,I.oB,R._A,G.Ko,h.KE,C.sb,k.Su,a.If,u.WG,n.G,l.kJ,c.k,g.d5,d.cN,v.C,Y.KO,S.uE,w._,L.C,W.e]})}return r})()},64524:(P,E,o)=>{o.d(E,{c:()=>a});var p=o(1528),e=o(54496),_=o(30260),O=o(59188),I=o(31236),R=o(68376),G=o(95372),h=o(6504),C=o(33040),k=o(25208);let a=(()=>{class u{api;setup;router;_snackBar;searchTerm;scheme=JSON.parse(localStorage.getItem("config")).scheme;constructor(n,c,g,d){this.api=n,this.setup=c,this.router=g,this._snackBar=d}ngOnDestroy(){}ngOnInit(){return(0,p.c)(function*(){})()}inputType(n){return n.startsWith(this.setup.Network.NetworkWitnessPrefix)?"address":n.length<20?"index":n.length>30&&n.length<54?"address":"hash"}search(){var n=this;return(0,p.c)(function*(){const c=n.searchTerm;switch(n.inputType(c)){case"index":{const d=parseInt(c,10);!isNaN(d)&&d>0?n.router.navigate([n.setup.current,"explorer","block",d]):n._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[n.scheme]});break}case"address":n.router.navigate([n.setup.current,"explorer","address",c]);break;case"hash":{let d=null;try{d=yield n.api.getBlockByHash(c)}catch{}if(d)n.router.navigate([n.setup.current,"explorer","block",d.blockHash]);else{const v=yield n.api.getTransaction(c);n.router.navigate([n.setup.current,"explorer","transaction",v.transactionId])}break}default:n._snackBar.open("Explorer cannot detect your data type","retry",{duration:3e3,panelClass:[n.scheme]})}})()}static \u0275fac=function(c){return new(c||u)(e.GI1(_.W),e.GI1(O.g),e.GI1(I.E5),e.GI1(R.yS))};static \u0275cmp=e.In1({type:u,selectors:[["app-search"]],decls:8,vars:3,consts:[[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-1","gap-6","w-full","min-w-0","mb-6"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"w-full","max-w-screen-xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","max-w-full","sm:max-w-none"],[1,"blockcore-mat-no-subscript","w-full","sm:w-full","mt-6","sm:mt-6","mb-6","sm:mb-6","sm:ml-4",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["type","search","placeholder","Search for address, transaction or block.","autocomplete","off","matInput","",3,"ngModel","keyup.enter","ngModelChange"],["query",""]],template:function(c,g){1&c&&(e.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4),e.wR5(5,"mat-icon",5),e.I0R(6,"input",6,7),e.qCj("keyup.enter",function(){return g.search()}),e.iHE("ngModelChange",function(v){return e.kNx(g.searchTerm,v)||(g.searchTerm=v),v}),e.C$Y()()()()()()),2&c&&(e.yG2(4),e.E7m("floatLabel","always"),e.yG2(),e.E7m("svgIcon","heroicons_solid:search"),e.yG2(),e.OKB("ngModel",g.searchTerm))},dependencies:[G.qL,h.ot,h.ue,h._G,C.Up,C.is,k.yi],encapsulation:2})}return u})()}}]);